# QQ农场 Yunzai 插件

对接 QQ农场共享版服务器的 Yunzai-Bot 插件，支持扫码登录、自动挂机等操作。

## 功能特性

- 📱 **扫码登录** - 通过QQ扫码快速登录农场
- 📊 **状态查询** - 查看农场等级、金币、收获统计等
- ⚙️ **自动挂机** - 一键开启/关闭自动挂机
- 🔧 **多账号管理** - 支持管理多个农场账号

## 指令列表

| 指令 | 说明 |
|------|------|
| `#我的农场` / `#农场状态` | 查看农场状态 |
| `#登录农场` | 扫码登录农场 |
| `#退出农场` | 退出并删除账号 |
| `#开启自动挂机` | 启动自动挂机 |
| `#关闭自动挂机` | 停止自动挂机 |
| `#农场账号列表` | 查看已登录账号 |
| `#农场帮助` | 显示帮助信息 |
| `#设置农场服务器<地址>` | 设置服务器地址(主人) |

## 安装方法

### 1. 克隆插件到 Yunzai 目录



```bash
git clone https://github.com/yeqiu6080/qfarm-plugin.git ./plugins/qfarm-plugin

```

### 2. 安装依赖

在插件目录下安装依赖：

```bash
cd plugins/qfarm-plugin
pnpm i
```

### 3. 配置服务器地址

首次使用需要设置农场服务器地址：

```
#设置农场服务器http://localhost:3456
```

将 `http://localhost:3456` 替换为实际的农场服务器地址。

### 4. 重启 Yunzai

```bash
# 在 Yunzai 目录下
pnpm restart
```

## 使用示例

### 登录农场

1. 发送 `#登录农场`
2. 机器人会回复一个链接
3. 使用QQ扫码登录
4. 登录成功后自动启动挂机

### 查看状态

发送 `#我的农场` 查看当前农场状态：
- 运行状态
- QQ昵称、等级、金币
- 收获/偷取次数

### 开启自动挂机

发送 `#开启自动挂机` 启动所有已登录账号的自动挂机功能。

## 配置文件

配置文件位于 `plugins/qfarm-plugin/config/config.json`：

```json
{
  "serverUrl": "http://localhost:3456",
  "autoAccounts": []
}
```

- `serverUrl` - 农场服务器地址
- `autoAccounts` - 自动挂机账号列表（自动维护）

## 注意事项

1. 确保农场服务器已启动并可访问
2. 每个QQ用户可以绑定多个农场账号
3. 退出农场会删除所有关联账号数据
4. 链接有效期为2分钟，超时请重新登录

## 依赖要求

- Yunzai-Bot v3.x
- [QQ农场共享版服务器](https://github.com/yeqiu6080/qq-farm-bot-server)

## 许可证

MIT
